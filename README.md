# How to Use the DockerFile in this project?

## 1. Installation

1. **Install Docker Desktop**:
   - Visit the [Docker website](https://www.docker.com/products/docker-desktop) and download Docker Desktop for your operating system.
   - Follow the installation instructions provided for your platform.
   - Once installed, Docker Desktop should be accessible from your system tray or menu bar.

## 2. Building and Running the Docker Image

1. **Clone the Repository**:

```

git clone <repository_url>
cd <repository_directory>

```

2. **Build the Docker Image**:

```

make buildImage

```

This command will build the Docker image using the provided Dockerfile.

3. **Run the Docker Container**:

- To run the Docker container and bind a volume for local development:

```shell
make buildContainer_with_bind
```

> Note:
>
> - The build container with bind will have your host terminal attached to the terminal inside the instance of the container. From there, you can start the app using `npm run start`
> - This will make sure that the code will run in our AWS instance as well.

## 3. Other Useful Commands

#### **Stopping and Cleaning Docker Resources**:

- To stop and remove Docker container and image:

```
make dockerClean
```

- To stop and remove Docker container only:

```
make cleanContainer
```

#### **Connecting to Docker Container's Terminal**:

```
make connectTerminal
```

This command allows you to connect to the Docker container's terminal.

## 4. Additional Notes

==**Viewing Application Output**:==

- After running the Docker container, you can access your application by navigating to `http://localhost:3001` or `http://localhost:3002` in your web browser.
- Any output or logs generated by the application will be visible in the terminal where you ran the Docker container.

==**Updating Docker Image**:==

- If you make changes to your code, you will see the changes reflected in few seconds inside the docker container running instance and will be reflected on the browser as well.
- But if you make changes to your dependencies, you'll need to rebuild the Docker image using `make buildImage` before running the container again.

==**Building new Image**==

- Clean up the past images and container. The correct way to do it is to stop the container, remove it, and then remove the image. Reason: Images are created using build which are then used to create containers.
- Or just run the make command above `make dockerClean` to delete all the container, and images.
- Or create new after deleting using: `make cleanBuildImage_and_Container` command.

## 5. Important docker commands:

| Command                                             | Description                                                 |
| --------------------------------------------------- | ----------------------------------------------------------- |
| `docker run <image_name>`                           | Run a container from an image.                              |
| `docker build -t <image_name> <path_to_dockerfile>` | Build an image from a Dockerfile.                           |
| `docker ps`                                         | List running containers.                                    |
| `docker ps -a`                                      | List all containers (including stopped ones).               |
| `docker stop <container_id>`                        | Stop a running container.                                   |
| `docker start <container_id>`                       | Start a stopped container.                                  |
| `docker rm <container_id>`                          | Remove a stopped container.                                 |
| `docker images`                                     | List local Docker images.                                   |
| `docker pull <image_name>`                          | Pull an image from a registry.                              |
| `docker push <image_name>`                          | Push an image to a registry.                                |
| `docker logs <container_id>`                        | View logs from a container.                                 |
| `docker exec -it <container_id> <command>`          | Execute a command inside a running container interactively. |
| `docker network ls`                                 | List Docker networks.                                       |
| `docker network inspect <network_name>`             | Inspect details of a Docker network.                        |
| `docker volume ls`                                  | List Docker volumes.                                        |
| `docker volume inspect <volume_name>`               | Inspect details of a Docker volume.                         |
| `docker-compose up`                                 | Start services defined in a Docker Compose file.            |
| `docker-compose down`                               | Stop and remove services defined in a Docker Compose file.  |
| `docker-compose build`                              | Build services defined in a Docker Compose file.            |
| `docker-compose logs <service_name>`                | View logs from a specific service in a Docker Compose file. |

## 6. Resources:

1. [Docker Deep Dive](https://www.amazon.com/Docker-Deep-Dive-Nigel-Poulton/dp/1521822808) by [Nigel Poulton](https://nigelpoulton.com/) to be really helpful in understanding the infrastructure related to docker.
2. [Complete Docker Course Video](https://youtu.be/RqTEHSBrYFw?si=oLoixxs5YHN393ho) on youtube by DevOps Directive youtube channel.
